#                                      Task
---------------------------------------------------------------------------------------------------------------------------------------------------


Шаг
Действие
Пример файла
1
DI-контейнер
AppDIContainer.swift
2
Подключение ViewModel в @main App
AutoCareiOS.swift
3
Починить AddCarView, MainView
AddCarView.swift
4
Переписать все .environmentObject или @StateObject
В каждой View
5
WatchOS: приём и отображение машин
WatchSessionManager
6
WatchOS: выбор машины и отправка
ExpensesViewModel
7
Удалить устаревший код
CoreDataStack.shared







Задачи на завтра: 

3. Подумать как можно оформить "AddCarView" более строгом и современном виде
9. Попробовать реализовать функционал, чтобы даты скрывались по месяца в ListRepairs

Проверка на реальном устройстве показала
5. Исправить баг при нажатии на SearchBar смещается кнопка добавить ремонт +


------ 

Первое что нужно сделать, это разобраться с рамерами subView, в View DashboardView можно привести к единообразию с использованием .frame(maxWidth:), .fixedSize(), GeometryReader (по необходимости) и системных отступов. Это точно стоит сделать в первую очередь, чтобы всё выглядело ровно.


Второе, продумать обновление пробега, после создания ремонта, обновдлять или оставлять так как есть тут можно подумать: если в AddRepair передаётся пробег и он выше текущего, логично обновить его в selectedCar. Иначе оставить как есть. Возможно, стоит завести один метод в CarService для сравнения и обновления.


Третье, subView страховки добавить функционал по его отображению, а также добавить кнопку для редактирования -- аккуратная кнопка «изменить» в InsuranceCardView с передачей данных в модальный Sheet — это будет удобный UX и легко реализуемо.


Интеграция с картами
Предлагай ближайшие заправки или СТО (можно сделать через MKMapView + вручную подгрузить данные).

Сканирование чеков на заправке (OCR)
Используй VisionKit (или сторонний SDK), чтобы быстро внести данные о расходах.
